Chapter 1 - Introduction
Other topics
-Digital vs Analog
-Bluetooth

What is a Network?
-devices are connected with COMMUNICATION LINKs (fiber, copper, radio, satellite) and have a transmission rate (bandwidth)
-all devices are either HOSTS or END SYSTEMS
-packet switches forward packets between devices (routers and switches)

1.1 What is the Internet?

Hardware description
-computer network that interconnects millions of devices around the world
-include TVs, game consoles, cell phones, cars, smart homes
-a "network of networks", interconnected ISPs
-protocols control sending and receiving and traffic (TCP, IP, HTTP)
-standards (Internet Engineering Task Force) govern how protocols works, documented in RFCs (requests for comments)
-IEEE sets standards for other network components, like ethernet and wireless standards

Software Description
-an infrastructure that provides services to applications
-email, browsing, games, messaging, streaming, file sharing: distributed applications
-applications run in end systems, not in the switches or rest of network core
-Internet serves as platform to transmit and receive data between applications
-APIs specify how the software asks Internet infrastructure to deliver data from one system to another

Protocols
-defines format and order of messages exchanged between communicating entities, as well as actions during sending/receiving
-Conversation/manners example (hi->hi->what's the time->2:00)
-Another example (Are there any questions? Raise hand, ask question, think about question, give reply)
-Certain expectations when conversation happens
-If they don't respond with hi (go away, don't speak english, say nothing), change our response
-Computer protocols are similar
-If one side does not abide by protocol, communication falls apart
-requires parties to use same protocol

1.2 Network Edge
-hosts (end systems): clients and servers, because they "host" applications
-clients on one end system request and receive data from server on another end system
-client-server internet applications are distributed applications
-servers these reside in large data centers
-connecting Internet can be considered a black box joining the two end systems
-P2P is an example of non-pure client or server applications

1.2.1 Access Networks
-physical (or wireless) links that connect end system to first (edge) router that leads to other end system
-connected at junctions with the telco central office (CO)

Dial-up
-convert digital signal to analog signal
-transfer over phone line, max of 56 kbps

DSL (Digital Subscriber line)
-obtains DSL access from telco
-telephone line carries data and telephone signals simultaneously at different frequencies
--Downstream: 50kHz to 1 MHz
--Upstream: 4kHz to 50kHz
--Telephony: 0 to 4 kHz
-traffic is split and redirected at telco central office (CO) with DSLAM (DSL Access Multiplexer)
-customer side, splitter separates data and signals arriving to home and forwards to modem
-DSL standards define transmission of 12 Mbps down, 1.8 up or 24 down/2.5 up - thus is asymmetric
-transmission rate is dependent on the distance between throttling, home and CO, gauge of wire, and interference
-DSL is for shorter distances (5-10 miles to CO)

Cable
-cable head end broadcasts TV through distribution network of coax cable to residence
-DSL uses phone infrastructure, cable uses TV infrastructure
-fiber and coax are used, hybrid fiber coax (HFC)
-Cable Modem Termination system converts analog signals from downstream homes to digital signals
-transmission rate of about 42.8 Mbps down, 30.7 up (affected by throttling and impairments)
-shared broadcast medium, every packet sent travels downstream to every home and every upload travels to all head end
-can cause congestion, collisions can occur on uploads
-DSL links are dedicated, cable has higher transmission rate
-satellite for rural areas

Fiber (?)
-Fiber to the home emerging
https://www.youtube.com/watch?v=0MwMkBET_5I
-direct fiber, one line for each home, highest bandwidth
-often fiber is shared coming out of CO and then split as it gets to homes
-Active Optical Network vs Passive Optical Network (AON/PON)
-AON is switched ethernet
-PON: each home has optical network terminator, connected to dedicated fiber to neighbourhood splitter
-splitter combines multiple lines into a shared optical fiber and connects to an optical line terminator in the CO
-OLT converts between optical and electric signals and connects to rest of internet
-10 to 20 Mbps

Ethernet
-used in LANs to connect systems to edge router
-users connect to ethernet switch, grants 100Mbps access, up to 1 to 10 Gbps
-use twisted-pair copper wire (CAT5) to connect to Ethernet switch

WiFi
-Wireless LAN: users transfer to and from access point
-AP is connected to wired connection
-Wide-area wireless: packets are transmitted to base station, same tech for cellphones (3G, 4G, LTE)
-802.11 up to 54 Mbps
-WiMAX

Wide Area Access Networks (WANs)
-use same infrastructure as cellular telephony
-third generation (3G) and 4G, packet-switched wide-area networks
-LTE (Long-Term Evolution), roots in 3G, 10 Mbps

1.2.2 Physical Media
-bits of data goes through a series of transmitter receiver pairs
-propagated across electromagnetic waves or optical pulses across physical medium
-can be different types along path (twisted pair copper, coax, fiber, radio, satellite)
-cost of network type usually minor compared to other costs (labour), thus most are just laid all at once
-guided vs unguided

Twisted-Pair Copper Wire
-cheap, most used
-twisted to prevent interference from surrounding wires
-unshielded twisted pair (UTP5), up to 1 Gbps for hundreds of meters
-CAT6a up to 10Gbps

Coax
-copper conductors, concentric rather than parallel
-can achieve high bit rates
-guided shared medium: many end systems can be connected directly to cable while having the traffic split
-transmitter shifts digital signal to a specific frequency band

Fiber
-thin flexible medium that conducts pulses of light, each pulse representing a bit
-hundreds of gigabits per second
-immune to EM interference, low signal attenuation (weakening) up to 100km, hard to tap
-good for overseas links
-higher cost for transmitters, receivers, switches
-51.8 to 39.8 Gbps

Terrestrial Radio
-no physical wire to be installed
-go through walls (though degrades signal)
-carry long distance
-can be interfered by reflection

Satellite
-geostationary and low-earth orbiting
-geostationary is a fixed relative position to earth
-can operate at hundreds of Mbps
-LEO close, but move
-communicate to each other and ground stations

1.3 Network Core
-messages are exchanged between end systems
-consists of packet switches and links that connect end systems

Packet Transmission through Packet-Switched Network
-packets have destination address in its header
-address has an hierarchical structure
-router examines portion of packet's destination address and forwards to an adjacent router
-routers have forwarding tables that map destinations to outbound links
-Internet has routing protocols that are used to automatically set forwarding tables
-determine shortest path from each router to each destination, configure forwarding tables accordingly
-traceroute

Circuit Switches and Packet Switches
Circuit Switches: resources along path (buffers, link transmission rate) are entirely reserved for duration
Packet Switches: Session uses resource on demand, may have to wait for access
-Analogy Restaurant with only reservations and one without any
-Overhead of requesting all resources before hand vs potentially having to wait
-Telephone networks are circuit switched, network must establish end to end connection before transfer, stay connected for duration
-guaranteed constant rate
-Internet is packet-switched
-packet are sent over network without reservation
-congestion can cause waiting, buffered
-does its best, but no guarantees for time
-hard to neatly classify into pure circuit or packet-switched networks in telecomms, nice simplistic view

Circuit Switching  (?)
-Network comprises of several circuit switches connected to each other
-Each host connected to a circuit switch which can support n links
-When two hosts want to connect, 1/n links are reserved on each switch between the hosts
-Circuit in a link is implemented with frequency-division mutliplexing (FDM) or time-division multiplexing (TDM)
-FDM: Frequency band to each connection for duration of connection, width is typically 4 kHz
-width of band is bandwidth
-FM radio uses 88 to 108 MHz
-TDM: time is divided into frames of fixed duration, each frame divided in to fixed number of slots
-network dedicates one time slot in every frame to an established connection
-data is transferred for slot during its turn
-frame rate (how many frames sent per second) x bits per slot

-Circuit switching can be wasteful since dedicated circuits are idle during silent periods
-when people stop talking, resources are still being consumed
-establishing end to end circuits and reserving bandwidth is complicated and requires complex signaling software to coordinate operation of switches along path

Packet Switching  (?)
-distributed applications exchange messages, which can contain anything protocol designer wants
-control functions or data
-long messages are broken into packets
-packets travel through links and packet switches
-packet switches use store-and-forward at the inputs to the links
-entire packet must be received before it can transmit the first bit to the destination
-switches also have output buffers, which store outgoing packets
-if packet needs to be transmitted, but link is already used, stored in buffer
-packet loss can occur in congested network, for arriving or already queued packets
-if packet switch forwarding speed exceeds arrival rate, congestion occurs (bottlenecks)

Statistical Multiplexing
-packet switching not suitable for real time, variable and unpredictable end to end delays
-however it offers better sharing of bandwidth than circuit switches, simpler and more efficient to implement
-circuit based switches much reserve and evenly distribute links between all potential users
-statistical likelihood that X number of users will simultaneously use a line is very low

ISPs and Internet Backbones
-Internet is a network of networks
-access ISPs situated at edge of Internet are connect to rest of the Internet through a tiered hierarchy of ISPs
-bottom of hiearchy is access ISP, top is T1 ISP
-T1 ISP is like any other network in that has links and routers connected to other networks
-T1 speeds are much faster to handle all of the traffic, routers must forward at extremely high rate
-T1: directly connected to other T1s, connected to large number of T2s and other customer networks, international
-T1: Internet backbone networks, include Sprint, Bell, Rogers
-T2: regional to national coverage, connects to only a few T1 ISPs, routs traffic through T1s
-T2 is a customer of the T1, T1 is a provider
-Companies or other organizations connect directly to T1 or T2, being direct customers of them
-Providers charge customers rate based on tranmission rate of the link
-T2s can also connect to each other, meaning traffic doesn't have to be routed to T1 connections
-Lower tier ISPs which connect to the T2s, below those are the access ISPs
-some T1s also act as T2s, directly selling to consumers and content providers, as well as lower tier ISPs
-points where ISP connects to another ISP is a Point of Presence (POP)
-POP is a group of one or more routers where different ISPs connect to each other
-large companies like Google or Amazon set up their own Content Provider Networks, directly connecting to own servers and to lower tier ISPs
--reduces payments to ISPs, greater control of content delivery

1.4 Delay, Loss, and Throughput of Packet-switched networks

Train Station Analogy

1.4.1 Delay
-packets travel starts in a host, through routers, and to another host
-packets suffer delay at each node along path
Delays:
-nodal processing
-queuing
-transmission
-propagation

-accumulate into total nodal delay

Nodal Processing Delay
-time to examine packet header and determine where to direct packet
-also things like bit-level errors that occurred during transfer
-microseconds or less
-directs packet to queue that for link that leads to destination

Queueing Delay
-waits in queue before being sent onto the link
-depends on number of preceding packets (can be 0)
-microseconds to milliseconds

Transmission Delay
-length of packet L bits
-transfer rate R bits/s
-transmission delay is L/R
-amount of time to transmit all of the packet bits into the link
-microseconds to milliseconds

Propagation Delay
-once in link it takes time to propagate to destination router
-speed depends on propagation speed of medium (fiber, twisted-pair coppe)
-2*10^8 m/s to 3*10^8 m/s
-close to speed of light
-distance between two routers divided by propagation speed (d/s)
-once bits arrive for packet at B, process is repeated to next router

Transmission vs Propagation
-transmission is time to process and put bits of packet into the link
-propagation is time it travels on the line
-sometimes with slow transmission time and fast propagation, first bits of a packet can arrive of destination while remaining packets are still being transmitted by previous router
(Sci Fi Warp gate)
-usually d_prop and d_transmission are main factors in overall delay

Queueing Delay and Packet Loss
-queueing delay varies packet to packet; when queue is empty it is 0, but when it is full packets at the end have a high queue time
-use statistical measures, average queuing delay, variance, probability that it exceeds X
-delay depends on factors such as
-rate at which traffic arrives at queue
-transmission rate
-steady stream or burst
-average rate of arriving packets, in packets/s
-L is length packet, R is transmission rate
-traffic intensity = La/R
-if La/R > 1, bits are arriving faster than link can transmit out of the queue, always aim for <1
-usually packet transmission is essentially random
-as intensity approaches 1, average queuing delay approaches infinity asymptotically

Packet Loss
-queues are finite in capacity
-if a packet arrives at a full queue, routers can drop packets and it is lost
-at end system, it appears as if packet was transmitted, but never emerged on the other end
-packet loss increases as traffic intensity increases
-performance at node is measured in delay and % packet loss

1.4.3 End to End Delay
-total end to end delay = number of nodes (d_proc + d_trans + d_prop), assuming no queuing delay and uniform delays across nodes

Traceroute
-send special packet to a destination host
-when routers along the way receive the packet, it sends a response back to origin with information about router it visited
-records time taken, name and address of router, returns message
-packets are sent and marked to each intermediary router
-when all responses are returned, originator can reconstruct route and time that packets traveled to destination
-repeats process 3x to get average
-RFC 1393

End system, Application, and Other Delays
-dial modems at modulation/encoding delay (10s of ms), other tech is negligible
-end system transmitting into a shared medium may purposefully delay its transmission as a part of its protocol to share with other systems
-media packetization delay; app fills packet with encoded digitized speech before sending

1.4.4 Throughput in Computer Networks

-E2E throughput of the network
-for phones and streaming, delay is minimized and throughput > threshold rate
-for file transfer, some delay is fine, throughput needs to be maximized
-bottleneck links are the slowest in the network, usually on the client side
-when shared core link is the bottleneck, speed is split across all traffic evenly

1.5 Protocol Layers

1.5.1 Layered Architecture

-flight analogy
-a layer has corresponding functions at each end of the connection (ie. client and server side)
-each layer, combined with lower level layers, implement some functionality or service
-layers perform certain actions within that layer and may use the services or functions of the layer below
-layers are modular and can be modified as long as they provide the same function to the dependent layers

Protocol Layering

ISO OSI Reference model
Application
Presentation
Session
Transport
Network
Link
Physical

Internet Protocol Stack

-APSTNLP (no presentation or session level) by default
-up to developer to implement presentation/session if needed

-network hardware, software, and the protocols that govern them are organized into layers
-each protocol offers some service to the layer above it ie. the service model
-eg. one layer may offer reliable message delivery from one edge node to another edge node. To do this, it uses the layer below it that only accomplishes unreliable message delivery and then adds functionality to detect and resend lost messages
-protocol layers can be implemented by hardware and/or software
-layers towards the top are usually software driven and layers towards the bottom are usually hardware driven; layers in the middle are some combination
-each layer is often distributed across the nodes of the network
-layering model can duplicate some functionality between layers (eg. error recovery on a link and end to end basis)
-some layers may only function with data present in another layer, which in contradictory to the separation of layers
-packets are successively encapsulated with each layer's specific payload for use at the next corresponding connecting node or destination
-packets have header fields used for the layer currently being interfaced and the payload, which is typically a packet from layer above

Application Layer
-network applications and app-layer protocols reside
-Internet app-layer protocols include HTTP (web transfer), SMTP email, FTP (files), DNS (domain name system)
-packets of information sent at this layer are "messages"

Transport Layer
-transports application layer messages between app end points
-TCP and UDP
-TCP is connection-based, guaranteed-delivery, congestion control, segmentation for throttling
-UDP is connectionless, no reliability, no control
-packet of information is a segment

Network Layer
-transports packets from host to host, called "datagrams"
-transport-layer segment gets passed with destination to network layer, network layer takes it to host destination
-IP Protocol
-network layer also has routing protocols that determine routes that datagrams take between hosts
-lots of routing protocols exist

Link Layer
-transmit the datagrams themselves, datagrams arrive from network layer, get transmitted, and then passed up to network layer of destination
-some try to ensure reliable delivery over the link
-Ethernet, WiFi, Point-to-Point (PPP)
-datagram may be handled by different link layer protocols
-packets are "frames"

Physical Layer
-transmits individual bits
-protocols are link dependent
-Ethernet has several protocols, for twisted pair as well as coax
-amplitude, frequency, light pulses

OSI Layers

Presentation Layer
-allow communicating applications to interpret meaning of data exchanged
-compression, encryption, description

Session Layer
-provides delimiting and synchronization of data exchange (checkpointing and recovery)

1.6 Networks under attack
-malware: malicious software
--log information, delete files
-create a botnet, DDOS attacks
-malware is self-replicating, attempting to seek entry to any hosts it can find
-Internet was originally designed with assumption that all users mutually trusted each other
-no inherent authentication or verification while transferring traffic

Denial-of-Service (DOS)

Vulnerability attack
-sending well-crafted messages to vulnerable application/OS
-can cause crash or undesirable behaviour

Bandwidth flooding
-send large deluge of packets to clog target's access link, preventing legitimate traffic
-difficult for a single host to generate enough traffic to overwhelm link, can also be isolated and blocked
-DDOS uses multiple sources and each blast traffic at target

Connection flooding
-establish a large number of TCP connections to target
-host is overwhelmed by connections that it stops receiving any at all

Packet Sniffing
(conversation, eavesdropping)
-wireless traffic can be intercepted by passive receivers, copy all packets being sent
-packet sniffers can also be deployed in wired networks with physical access over LAN
-Wireshark
-sniffers do not modify traffic and thus are hard to detect
-must assume someone is listening in and use cryptography to protect
-need secrecy
-Wireshark lab (awl.com/kurose-ross)

Spoofing
(fake ID)
-construct packet with arbitrary trusted source address, malicious content, and destination
-receiver opens the package and payload is delivered
-IP spoofing, faking source address
-need end-point authentication

Modify or Delete Messages
(open package and tamper)
-Man-in-the-middle
-malicious actor intercepts traffic between two hosts (compromised model, software module)
-can sniff, but also inject, modify, or delete packets, compromise integrity
-need integrity guarantee

History

Packet Switching: 1960s
-telephony was dominant communication network, circuit-based for constant rate transmission
-computers saw rising prominence, need to share computer resources over network
-computer traffic much more bursty, waiting for reply, processing data
-ARPAnet was early network with packet-switching, connected several nodes in a closed network

Proprietary Networks and Internetworking: 1970s
-more standalone packet-switched networks came online
-research into connecting the different networks
-early versions of TCP (different from today) originally had functions of IP built-in, later separated
-TCP/UDP/IP were largely conceptually complete by end of era
-Ethernet protocol being developed for wired networks, LANs

Network Proliferation: 1980s
-efforts were spurred by universities linking to each other
-TCP/IP developed in 1983 for ARPAnet
-DNS also developed
-Minitel, French government sponsored packet-switched network for public

Internet Explosion: 1990s
-ARPAnet now defunct, now MILNET and other networks to carry traffic
-WWW, platform for enabling and deploying hundreds of new applications
-created by Tim Berners-Lee at CERN, based on hypertext concepts from the 1940s (Vannevar bush)
-HTML, HTTP, web servers, browser
-GUI interfaces under development
-Mosaic->Netscape
-email
-web
-Instant messaging, ICQ
-P2P sharing
-dot com crash

Recent Innovations (?)
-new apps all the time
-P2P application
-miniaturization
-user generated content
